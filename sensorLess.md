# BLDC-test

****** << to-do >> ***************************
1. ホールセンサの検証

    a. 入力は5V
   
    b. 手回しでくるくると回すと出力電圧が上がったり下がったりするはずです
   
    c. 出力電圧の最小、最大をそれぞれ記録してください

3. シャント電流の測定

    a. 増幅回路の増幅率を測定して記録してください
   
    b. オープンループの正弦波制御 (sineWave_v01.ino) [1] でどれくらいの出力電圧になるか測定してください
   
        ※ arduinoは入力電圧が5V以上になるとピンが壊れると言われています。5Vを超えそうな場合はうまく調整してください
   
    c. オペアンプの出力電圧が5V以上にならないことを確認したら、フィードバック制御の正弦波制御 (sineWave_v02.ino) [2] を実行してみてください。入力ピンなどを設定するので正しくセッティングしてください。

****** << code >> ***************************


[1] sineWave_v01.ino

    オープンループの正弦波制御です。出力ピンは下の通り
    
      U-High : 9        U-Low : 6
      
      V-High : 10        V-Low : 5
      
      W-High : 11       W-Low : 3

[2] sineWave_v02.ino (近日中に作ります)

    フィードバック制御の正弦波制御です。シャント電流を入力して回転角を推定します。入出力ピンは下の通り
    
      U-High : 9        U-Low : 6
      
      V-High : 10        V-Low : 5
      
      W-High : 11       W-Low : 3
      
      U-in : A0    V-in : A1    W-in : A2

[3] SVPWM_v01.ino (いくつか定数が定まっていないので動作しません)

    arduino mega2560 向けのコードです。工房にあるやつはピンがいくつか壊れているらしく、ちょっと使えるかわかりません。今後使う用のmegaを坂野が注文しました。
    可変抵抗で速度制御できます。
      
